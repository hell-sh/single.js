<!DOCTYPE html>
<html>
<head>
	<title>single.js demo</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="https://cdn.hell.sh/basic.css/latest/basic.css" crossorigin="anonymous">
</head>
<body>
	<div data-route="404" data-title="That's a 404!">
		<h1>404 — <span id="file"></span> not found</h1>
		<p>Redirecting to start page in 2 seconds...</p>
	</div>
	<div data-route="/, /start, /home">
		<!-- If data-title is not set, the site's title is used — "single.js demo" in this case. -->
		<h1>Welcome!</h1>
		<p>Where do you wanna go?</p>
		<ul>
			<li><a href="/somewhere">Somewhere that doesn't exist</a></li>
			<li><a href="/wild/cards">Somewhere with wild cards</a></li>
		</ul>
	</div>
	<div id="wild-route" data-route="^/wild/(.+)$">
		<!-- A site with a regex route may only have one path. -->
		<h1>Somewhere with wild <span id="wild"></span></h1>
		<p>Hint: Try editing the path.</p>
	</div>
	<script src="/single.js"></script> <!-- also available on cdn.hell.sh: https://cdn.hell.sh/#single.js -->
	<script>
		single.ensureLoaded(function() // Ensuring the DOM is loaded and single.js knows all routes before asking about them.
		{
			single.getRoute("404").on("load", function(args)
			{
				document.getElementById("file").textContent = args[0];
				// Use the single.setTimeout and .setInterval functions so they are automatically stopped when the site is switched.
				single.setTimeout(function()
				{
					single.loadRoute("/");
				}, 2000);
			});
			single.getRoute("#wild-route").on("beforeload", function(args)
			{
				args[1] = decodeURIComponent(args[1]); // Paths are not URL-decoded by single.js
				this.title = "Somewhere with wild " + args[1]; // Title can only be modified in the "beforeload" event.
				document.getElementById("wild").textContent = args[1];
			});
			single.loadRoute(); // Instruct single.js to load the user's currently selected route, as our event handlers are now registed.
		});
	</script>
</body>
</html>
